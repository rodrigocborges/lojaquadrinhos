#pragma checksum "C:\dev\netcore\LojaQuadrinhos\LojaQuadrinhos\Views\Home\Index.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "57b9b0bdf238d8adc8cac6df9d57be13bccc3d01"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Home_Index), @"mvc.1.0.view", @"/Views/Home/Index.cshtml")]
[assembly:global::Microsoft.AspNetCore.Mvc.Razor.Compilation.RazorViewAttribute(@"/Views/Home/Index.cshtml", typeof(AspNetCore.Views_Home_Index))]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#line 1 "C:\dev\netcore\LojaQuadrinhos\LojaQuadrinhos\Views\_ViewImports.cshtml"
using LojaQuadrinhos;

#line default
#line hidden
#line 2 "C:\dev\netcore\LojaQuadrinhos\LojaQuadrinhos\Views\_ViewImports.cshtml"
using LojaQuadrinhos.Models;

#line default
#line hidden
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"57b9b0bdf238d8adc8cac6df9d57be13bccc3d01", @"/Views/Home/Index.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"1e0d5e40a2810bb560f2c4b3831ef1ba98eb639a", @"/Views/_ViewImports.cshtml")]
    public class Views_Home_Index : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<dynamic>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
#line 1 "C:\dev\netcore\LojaQuadrinhos\LojaQuadrinhos\Views\Home\Index.cshtml"
  
    ViewData["Title"] = "Home Page";

#line default
#line hidden
            BeginContext(45, 3334, true);
            WriteLiteral(@"<br />
<div class=""container"">
    <div id=""products"">
        <div class=""card-deck"" style=""display: flex; flex-wrap: wrap;"">
            Carregando produtos...
        </div>
    </div>    
</div>

<div class=""modal fade"" id=""productInfo"" tabindex=""-1"" aria-labelledby=""exampleModalCenteredScrollableTitle"" aria-hidden=""true"">
    <div class=""modal-dialog modal-dialog-centered modal-dialog-scrollable"">
        <div class=""modal-content"">
            <div class=""modal-header"">
                <h5 class=""modal-title"" id=""exampleModalCenteredScrollableTitle"">Modal title</h5>
                <button type=""button"" class=""close"" data-dismiss=""modal"" aria-label=""Close"">
                    <span aria-hidden=""true"">&times;</span>
                </button>
            </div>
            <div class=""modal-body"">
            </div>
            <div class=""modal-footer"">
                <button type=""button"" class=""btn btn-secondary"" data-dismiss=""modal"">Fechar</button>
            </div>
        <");
            WriteLiteral(@"/div>
    </div>
</div>


<script src=""https://code.jquery.com/jquery-3.5.1.min.js"" integrity=""sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="" crossorigin=""anonymous""></script>
<script type=""text/javascript"">

    function getProductInfo(id) {
        $.ajax({
            type: 'get',
            dataType: 'json',
            url: 'http://localhost:50516/api/products/' + id,
            success: function (r) {
                $("".modal-title"").html(`${r.name}`);
                $("".modal-body"").html(`<div style=""display: flex; align-items: flex-start;""><img style=""width: 40%; flex-basis: 40%"" src=""${r.imageURL}""/><p style=""padding-left: 10px;"">${r.description}</p></div>`);
            },
            error: function (r) {
                alert(r);
            }
        });
    }

    $(document).ready(function () {
        $.ajax({
            type: 'get',
            dataType: 'json',
            url: 'http://localhost:50516/api/products',
            success: function (r) {
");
            WriteLiteral(@"                $(""#products .card-deck"").html('');
                $.each(r, function (i, e) {
                    var availableColor = ""green"";
                    var availableText = ""Dispon√≠vel"";
                    var buyButton = '<p><a href=""#"" class=""btn btn-primary"">Comprar</a></p>';
                    if (e.amount == 0) {
                        availableColor = ""red"";
                        availableText = ""Sem estoque"";
                        buyButton = """";
                    }
                    $(""#products .card-deck"").append(`<div class=""card"" style=""width: 18rem;""><a onclick=""getProductInfo(${e.id})"" data-toggle=""modal"" data-target=""#productInfo""><img src=""${e.imageURL}"" style=""width: 60%;"" class=""card-img-top""></a><div class=""card-body""><strong><h5 class=""card-title"">${e.name} <span class=""badge"" style=""background-color:${availableColor};"">${availableText}</span></h5></strong><p class=""card-text""><strong>Valor: R$ ${e.price}</strong>${buyButton}</p></div></div>`);
          ");
            WriteLiteral(@"      });
            },
            error: function (r) {
                alert(r);
            }
        });

        $('#productInfo').on('shown.bs.modal', function () {
            $('#myInput').trigger('focus');
        })
    });

</script>

");
            EndContext();
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<dynamic> Html { get; private set; }
    }
}
#pragma warning restore 1591
